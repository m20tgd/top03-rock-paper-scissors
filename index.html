<script>
    
function game(){
    
    //Declare variables for player and computer score and set to 0.
    let playerScore = 0;
    let computerScore = 0;

    //Create a loop that will iterate 5 times so 5 rounds are played.
    for (let i = 0; i < 5; i++ ){
        //Get input from the player
        let playerSelection = playerChoice();
        //Randomly select computer's choice
        let computerSelection = computerChoice();
        //Compare choices and establish win/lose/draw
        let victory = establishWinner(playerSelection, computerSelection);
        //If null is returned, then announce a draw and don't alter the scores
        if (victory === null){
            console.log("It's a draw! You're both losers");
        }
        //Otherwise check to for victory, update score and announce result.
        else {
            if (victory){
                playerScore++;
                console.log(`You won! ${getSelectionString(playerSelection)} beats ${getSelectionString(computerSelection)}.`)
            }
            else {
                computerScore++;
                console.log(`You lost! ${getSelectionString(computerSelection)} beats ${getSelectionString(playerSelection)}.`)
            }
        }

    }

    //Calculate who won
    //Update console log with result
}

function playerChoice(){

    //Declare variable for input from player and set to ""
    let input = ""

    //Get input from player and loop until valid choice provided
    while (true){
        input = prompt("Choose your weapon: \n Rock, Paper or Scissors?", "rock");
        if (input != null){ //If player pressed cancel and input is null, then skip
            //Change to all lower case for validation checks
            input = input.toLowerCase();
            //Check for valid entry and break out of loop if valid
            if (input === "rock" || input === "paper" || input === "scissors"){
                break;
            }
        }
        //If entry is not valid then alert message sent before the loop starts again
        alert("Invalid choice. \n Please try again");
    }

    //Switch choice and return 0 for 'rock', 1 for 'paper' and 2 for 'scissors'
    switch (input){
        case "rock" : return 0;
        case "paper" : return 1;
        case "scissors" : return 2;
    }
}

function computerChoice(){
    // Randomly select a number between 0-2 and return
    return num = Math.floor(Math.random()*3); //0 = Rock, 1 = Paper, 2 = Scissors
}

function establishWinner(playerSelection, computerSelection){

    //Return null as a draw if the computer and player selections are the same
    if (playerSelection === computerSelection){
        return null; //Draw
    }
    else{
    //Otherwise switch through the playerSelections and compare them to the computerSelection. Return
    //true for victory and false for defeat.
        switch (playerSelection){
            case 0 : //Rock
                return (computerSelection === 2) ? true : false;
            case 1 : //Paper
            return (computerSelection === 1) ? true : false;
            case 2 : //Scissors
            return (computerSelection === 0) ? true : false;
            default:
                console.log(playerSelection + " " + computerSelection);
                console.log("Something has gone wrong with checking for victory");
                debugger;
        }
    }
}

//Create a function to return a string of the name of the selection from the number that represents it.
function getSelectionString(choice){
    switch(choice){
        case 0 : return "Rock";
        case 1 : return "Paper";
        case 2 : return "scissors";
        default : console.log("Something went wrong with getSelectionString");
    }
}

game();

</script>